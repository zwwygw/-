## 学习笔记201906

### 笔记

#### UGUI优化

##### 1. UGUI网格重建

- 原理： UGUI会自动合并批次，会将一个Canvas下的所有元素合并到一个Mesh(后续学习相关知识OPenGL和unity3d的shader），所以Canvas下的任意元素发生改变，就需要重新合并所有元素的Mesh。
- 依据这点，比较好的做法就是每个UI界面都设置一个Canvas，降低合并Mesh的开销(动静分离).
*注*：过多的Canvas也不好，会导致DrawCall上升（一个Canvas占用一个DrawCall).

#### 2.DrawCall

- 概念：引擎准备数据并通知GPU的过程称为一次DrawCall



### 后期学习内容

- OpenGL
- Shader
- IL2CPP

















  本周主要工作：

1.多倍切换表现优化

2.自我学习

总结：

1.前几天没有安排需求基本上就是看项目代码，以做完毕设后感受的到不足来查看项目中相应的部分，比如适配问题，毕设时由于展示的手机只有自己的所以开发过程中的分辨率写死的，更是没有考虑到UGUI相应组件的定位问题导致打包到手机后组件错位。看了项目中的适配策略应考虑分辨率的变化导致的宽高比变化，将UI进行相应的拉伸缩放，还要考虑UI组件的相对位置的固定进行锚点对齐，而对于刘海屏这种更是需要将重要的部分显示在可靠区域内。

2.毕设中后续加入了Dotween用来做物体运动表现，从头自己试了下，所以比最开始更能理解项目代码中低层代码对Dotween相应方法的封装，不是一开始的一头雾水。做多倍切换表现时将原来的animation控制的动画更改为使用dotween更加顺手。

3.列表的定位也是感兴趣的，看了源码才发现方法很巧妙，头尾的item原来是早就存在的只是在需要的时候才显示出来，对于这个条件则是利用计算scrollrect滑动位置得到。

4.UGUI这里的优化部分也开始初步了解，主要看了Canvas的优化，网格重建的问题，动静分离的方式降低网格重建，但过多的Canvas又会造成DrawCall的增加，计算机中果然没有两全的方法。看了这个网格重建的问题，shader的学习也是后续的目标。




























